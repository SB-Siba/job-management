{% extends 'admin_dashboard/starter.html' %}
{% load static %}
{% block content %}
{% load admin_dash %}

<style>

.main-content,.row
{
    background-color: #e0e0e0;
}
/* Card styling */
.card {
    border-radius: 15px !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    color: #fff; /* White text for better contrast */
    transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    background: linear-gradient(145deg,#2a3d3f, #00fafa, #2a3d3f); /* Teal to Light Blue */
}

/* Card hover effect */
.card:hover {
    transform: translateY(-10px); /* Lift effect */
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
    background: linear-gradient(145deg,#2a3d3f, #00fafa, #2a3d3f); /* Teal to Light Blue */
}

/* Individual card colors */
.card:nth-child(1) {
    background: linear-gradient(145deg,#2a3d3f, #03a5a5, #2a3d3f); /* Teal to Light Blue */
   
}

.card:nth-child(3) {
    background: linear-gradient(145deg, #f44336, #ff9800); /* Red to Orange */
}

/* Card hover effects */
.card:nth-child(1):hover {
    background: linear-gradient(145deg,#2a3d3f, #00fafa, #2a3d3f); /* Teal to Light Blue */
}

.card:nth-child(2):hover {
    background: linear-gradient(145deg,#2a3d3f, #00fafa, #2a3d3f); /* Teal to Light Blue */
}

.card:nth-child(3):hover {
    background: linear-gradient(145deg, #ff9800, #f44336); /* Reversed gradient */
}

/* Column animations */
.col-lg-4 {
    opacity: 0;
    transform: translateY(20px); /* Initial position for animation */
    animation: slideIn 0.8s forwards;
}

/* Keyframes for slide-in animation */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation delays for each column */
.col-lg-4:nth-child(1) {
    animation-delay: 0.2s;
}

.col-lg-4:nth-child(2) {
    animation-delay: 0.6s;
}

.col-lg-4:nth-child(3) {
    animation-delay: 1s;
}

/* Additional styling for card body */
.card-body {
    font-size: 18px;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: white;
}

/* Responsive design adjustments */
@media (max-width: 768px) {
    .col-lg-4 {
        margin-bottom: 20px;
    }
}


</style>

<div class="main-content">
    <div class="container-fluid py-3 px-5">
        <div id="dashboard" class="section py-5 px-5">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card" style="height: 150px;">
                        <div class="card-body">
                            Published Jobs : 
                            <div class="px-4"><span>
                               {{ published_jobs }} <i class="bi bi-arrow-up"></i></span>
                              </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card" style="height: 150px;">
                        <div class="card-body">
                            Unpublished Jobs : 
                            <div class="px-3">
                                <span>{{ unpublished_jobs }} <i class="bi bi-arrow-up"></i></span>
                               </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card" style="height: 150px;">
                        <div class="card-body">
                            Total Jobs: 
                            <div class="px-4">
                                <span>{{ job_count }} <i class="bi bi-arrow-up"></i></span>
                               </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row justify-content-center">
    <div class="col-lg-11 col-md-11 mb-4">
        <div class="card" style="height: 360px;">
            <div class="card-body">
                <canvas id="myBarChart"></canvas>
            </div>
        </div>
    </div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    var totalEmployees = {{ total_employees }};
    var totalClients = {{ total_clients }};
    var totalJobs = {{ total_jobs }};
    var totalCandidates = {{ total_candidates }};
    
    var ctx = document.getElementById('myBarChart').getContext('2d');
    var myBarChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Employees', 'Clients', 'Jobs', 'Candidates'],
            datasets: [{
                label: 'Total Count',
                data: [totalEmployees, totalClients, totalJobs, totalCandidates],
                backgroundColor: [
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(255, 206, 86, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 206, 86, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(255, 206, 86, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    ticks: {
                        color: '#ffffff' // Set x-axis labels to white
                    },
                    grid: {
                        color: 'rgba(255, 255, 255, 0.2)' // Light grid lines
                    }
                },
                y: {
                    beginAtZero: true,
                    ticks: {
                        color: '#ffffff' // Set y-axis labels to white
                    },
                    grid: {
                        color: 'rgba(255, 255, 255, 0.2)' // Light grid lines
                    }
                }
            },
            plugins: {
                legend: {
                    labels: {
                        color: '#ffffff' // Set legend text color to white
                    }
                },
                tooltip: {
                    bodyColor: '#ffffff', // Tooltip text color
                    titleColor: '#ffffff', // Tooltip title text color
                    backgroundColor: 'rgba(0, 0, 0, 0.7)', // Tooltip background color for contrast
                    borderColor: '#ffffff', // Tooltip border color
                    borderWidth: 1
                }
            }
        }
    });
    </script>
    
{% endblock content %}
